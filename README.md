# 常用小工具

一个纯前端的常用小工具集合，无需服务器支持，可直接在浏览器中运行。包含JSON处理、数据提取、SQL操作等多种实用功能。

## ✨ 功能特性

### 核心功能
- ✅ **JSON格式化** - 美化JSON输出，支持缩进和语法高亮
- ✅ **JSON对比** - 智能比较两个JSON的差异，高亮显示不同之处
- ✅ **JSON断言生成** - 根据JSON数据自动生成断言代码，支持过滤条件
- ✅ **UID提取** - 从文本或文件中提取以"UID:"开头的唯一标识符
- ✅ **批量ID替换** - 将SQL中的数字ID替换为连续的雪花ID，避免数据库重复
- ✅ **Groovy SQL提取** - 从Groovy代码中提取纯SQL语句，支持Update和Delete操作

### 用户体验
- ✅ **行号显示** - 实时显示文本行号，支持滚动同步
- ✅ **文件拖拽上传** - 支持多种文件格式直接拖拽上传
- ✅ **响应式设计** - 完美适配桌面和移动设备
- ✅ **中文本地化** - 完整的中文界面和操作提示
- ✅ **纯前端实现** - 无需后端服务器，数据不离开浏览器，确保安全

### 文件支持格式
- 支持.txt、.json、.log、.csv、.groovy、.sql等多种文件格式

## 🚀 快速使用

### 在线使用
直接打开 `index.html` 文件即可使用，无需任何安装配置。

### 本地部署
1. 下载项目文件
2. 使用任意HTTP服务器打开：
```bash
# 使用Python内置服务器
python -m http.server 8000

# 或使用Node.js http-server
npx http-server

# 或直接双击打开index.html文件
```
3. 访问 http://localhost:8000

## 📁 项目结构

```
vscode_test_jsondeal/
├── index.html          # 主页面 - 包含6个主要功能模块
├── script.js          # 核心JavaScript逻辑 - 所有功能实现
├── style.css          # 样式文件 - 响应式设计和动画效果
├── README.md          # 项目说明文档
├── favicon.svg        # 网站图标
└── 其他说明文档.md     # 部署和配置指南
```

## 💡 详细使用说明

### JSON格式化
1. 点击"JSON格式化"按钮打开弹窗
2. 在左侧输入框粘贴JSON字符串
3. 点击"格式化"按钮
4. 右侧显示美化后的JSON，支持复制和下载

### JSON对比
1. 点击"JSON对比"按钮
2. 在两个输入框中分别粘贴要对比的JSON
3. 点击"对比"按钮
4. 系统会高亮显示差异，并给出详细对比结果
5. 提供示例数据快速测试

### JSON断言生成
1. 点击"JSON断言生成"按钮
2. 在左侧输入框粘贴JSON数据
3. 使用过滤条件控制断言生成范围：
   - **仅保留**：输入要保留的key，英文逗号分隔
   - **仅删除**：输入要删除的key，英文逗号分隔
4. 系统自动生成断言代码，支持复制

### UID提取
1. 点击"UID提取"按钮
2. 手动输入文本或拖拽文件到上传区域
3. 支持.txt、.json、.log、.csv、.groovy、.sql等多种文件格式
4. 点击"提取UID"按钮，系统会自动识别并提取以"UID:"开头的字符串
5. 结果区域显示提取的UID列表和统计信息，支持复制和下载

### 批量ID替换
1. 点击"批量ID替换"按钮
2. 输入起始雪花ID（如：1443166316329340928）
3. 在SQL输入框中粘贴包含数字ID的SQL语句
4. 点击"替换ID"按钮
5. 系统将自动替换所有形如`('数字ID', ...)`的模式为连续的雪花ID
6. 结果支持复制和下载

### Groovy SQL提取
1. 点击"groovy提取sql"按钮
2. 手动输入Groovy代码或拖拽文件上传
3. 点击"提取SQL"按钮
4. 系统从Groovy代码中提取纯SQL语句
5. **注意**：当前只支持提取Update和Delete语句，不支持Insert语句
6. 结果支持复制和下载

### 通用操作功能
- **复制结果**：所有功能都支持一键复制结果
- **下载文件**：支持将结果下载为JSON、TXT、SQL等格式
- **清空输入**：快速清空所有输入内容
- **文件拖拽**：支持拖拽文件到输入区域
- **实时行号**：所有文本区域都显示实时行号

## 🔧 技术特点

### 前端技术
- **纯前端处理**：所有数据处理都在浏览器中完成，确保数据安全
- **实时响应**：输入时实时更新行号，粘贴后自动处理
- **智能错误处理**：友好的错误提示和验证机制
- **现代化UI**：美观的渐变背景、动画效果和响应式设计

### 核心算法
- **JSON对比算法**：深度比较JSON结构，智能识别差异类型
- **正则表达式匹配**：高效的UID提取和SQL模式识别
- **雪花ID生成**：基于时间戳的分布式ID生成算法
- **文件处理**：支持多种文件格式的读取和解析

## 🌐 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

支持所有现代浏览器，无需额外插件。

## 🔧 开发说明

### 核心函数
- `formatJSON()` - JSON格式化功能
- `compareJSON()` - JSON对比功能
- `generateAssertions()` - 断言代码生成
- `extractUIDs()` - UID提取功能
- `replaceIds()` - 批量ID替换
- `extractSQL()` - Groovy SQL提取（支持纯SQL和Groovy模式）

### 扩展功能
- 文件拖拽上传支持
- 多文件格式处理
- 实时行号显示
- 智能错误提示

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个工具！

---

**安全提示**：这是一个纯前端工具，所有功能都在浏览器中运行，数据不会离开您的设备，无需担心服务器部署和数据安全问题。

**更新日志**：
- 新增Groovy SQL提取功能
- 优化批量ID替换算法
- 改进UI响应式设计
- 增强文件拖拽体验